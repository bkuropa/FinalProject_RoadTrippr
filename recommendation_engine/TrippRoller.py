# import dependencies
import numpy as np
from numpy.random import choice
import pandas as pd
import os
import random

# TrippRoller uses the file called 'weights.csv' generated by ClusterAvgValues.ipynb

ClusterAvgValues = pd.read_csv('recommendation_engine/Output/weights.csv')
print(ClusterAvgValues.columns)
ClusterAvgValues = ClusterAvgValues.drop('Unnamed: 0', 1)

# roll an activity
activities = list(ClusterAvgValues[['resorts', 'beaches', 'parks', 'theatres', 'museums', 'malls', 'zoo', 'art-galleries', 'dance-clubs', 'swimming-pools', 'gyms', 'beauty-spas']])
activity_weights = np.array(ClusterAvgValues[['resorts', 'beaches', 'parks', 'theatres', 'museums', 'malls', 'zoo', 'art-galleries', 'dance-clubs', 'swimming-pools', 'gyms', 'beauty-spas']])
cl1_act_weights = activity_weights[0]
normalized_cl1 = cl1_act_weights / cl1_act_weights.sum()
choice(activities, p=normalized_cl1)